<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title>JBoss Modules and WS applications - WildFly 9</title>

    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=EmulateIE8" />
    <meta content="Scroll Wiki Publisher" name="generator"/>

    <link type="text/css" rel="stylesheet" href="css/blueprint/liquid.css" media="screen, projection"/>
    <link type="text/css" rel="stylesheet" href="css/blueprint/print.css" media="print"/>
    <!--[if lt IE 8]><link rel="stylesheet" href="css/blueprint/ie.css" type="text/css" media="screen, projection"/><![endif]-->

    <link type="text/css" rel="stylesheet" href="css/content-style.css" media="screen, projection, print"/>
    <link type="text/css" rel="stylesheet" href="css/screen.css" media="screen, projection"/>
    <link type="text/css" rel="stylesheet" href="css/print.css" media="print"/>
    
    <link type="text/css" rel="stylesheet" href="css/jbossorg.css"/>
    <link type="text/css" rel="stylesheet" href="css/docnav.css"/>    
    
    <link type="text/css" rel="stylesheet" href="sh/shCore.css"/>
    <link type="text/css" rel="stylesheet" href="sh/shCoreDefault.css"/>
    <script type="text/javascript" src="sh/shCore.js"></script>
    <script type="text/javascript" src="sh/shBrushAppleScript.js"></script>
    <script type="text/javascript" src="sh/shBrushAS3.js"></script>
    <script type="text/javascript" src="sh/shBrushBash.js"></script>
    <script type="text/javascript" src="sh/shBrushCpp.js"></script>
    <script type="text/javascript" src="sh/shBrushCSharp.js"></script>
    <script type="text/javascript" src="sh/shBrushCss.js"></script>
    <script type="text/javascript" src="sh/shBrushDiff.js"></script>
    <script type="text/javascript" src="sh/shBrushErlang.js"></script>
    <script type="text/javascript" src="sh/shBrushGroovy.js"></script>
    <script type="text/javascript" src="sh/shBrushJava.js"></script>
    <script type="text/javascript" src="sh/shBrushJavaFX.js"></script>
    <script type="text/javascript" src="sh/shBrushJScript.js"></script>
    <script type="text/javascript" src="sh/shBrushPerl.js"></script>
    <script type="text/javascript" src="sh/shBrushPhp.js"></script>
    <script type="text/javascript" src="sh/shBrushPlain.js"></script>
    <script type="text/javascript" src="sh/shBrushPython.js"></script>
    <script type="text/javascript" src="sh/shBrushRuby.js"></script>
    <script type="text/javascript" src="sh/shBrushScala.js"></script>
    <script type="text/javascript" src="sh/shBrushSql.js"></script>
    <script type="text/javascript" src="sh/shBrushVb.js"></script>
    <script type="text/javascript" src="sh/shBrushXml.js"></script>
    
</head>
<body>
    <div class="container" style="min-width: 760px;">
        <div class="block header">
          <p id="title">
            <a class="site_href" href="http://www.jboss.org"><strong>JBoss.org</strong></a>
            <a class="doc_href" href="http://docs.jboss.org"><strong>Community Documentation</strong></a>
          </p>
                  <ul class="docnav">
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <li class="previous"><a accesskey="p" href="Published_WSDL_customization.html"><strong>Prev</strong></a></li>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      <li class="next"><a accesskey="n" href="High_Availability_Guide.html"><strong>Next</strong></a></li>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      </ul>
                    <div>
            <h1>JBoss Modules and WS applications</h1>
          </div>          
          </div>

        <div class="block content">
<ul class=" "><li class=" ">    <p>
<a href="JBoss_Modules_and_WS_applications.html#80873276_JBossModulesandWSapplications-Settingmoduledependencies">Setting module dependencies</a>    </p>
<ul class=" "><li class=" ">    <p>
<a href="JBoss_Modules_and_WS_applications.html#80873276_JBossModulesandWSapplications-UsingMANIFEST.MF">Using MANIFEST.MF</a>    </p>
<ul class=" "><li class=" ">    <p>
<a href="JBoss_Modules_and_WS_applications.html#80873276_JBossModulesandWSapplications-UsingJAXB">Using JAXB</a>    </p>
</li><li class=" ">    <p>
<a href="JBoss_Modules_and_WS_applications.html#80873276_JBossModulesandWSapplications-UsingApacheCXF">Using Apache CXF</a>    </p>
</li><li class=" ">    <p>
<a href="JBoss_Modules_and_WS_applications.html#80873276_JBossModulesandWSapplications-ClientsideWSaggregationmodule">Client side WS aggregation module</a>    </p>
</li><li class=" ">    <p>
<a href="JBoss_Modules_and_WS_applications.html#80873276_JBossModulesandWSapplications-Annotationscanning">Annotation scanning</a>    </p>
</li></ul></li><li class=" ">    <p>
<a href="JBoss_Modules_and_WS_applications.html#80873276_JBossModulesandWSapplications-Usingjbossdeploymentdescriptor.xml">Using jboss-deployment-descriptor.xml</a>    </p>
</li></ul></li></ul>    <p>
The JBoss Web Services functionalities are provided by a given set of modules / libraries installed on WildFly, which&nbsp;are organized into JBoss Modules modules. In particular the <i class=" ">org.jboss.as.webservices.*</i> and <i class=" ">org.jboss.ws.*</i> modules belong to  the JBossWS - WildFly integration. Users should not need to change anything  in them.    </p>
    <p>
While users are of course allowed to provide their own modules for their custom needs, below is a brief collection of suggestions and hints around modules and webservices development on WildFly.    </p>
    <div class="section-2"  id="80873276_JBossModulesandWSapplications-Settingmoduledependencies"  >
        <h2>Setting module dependencies</h2>
    
    <p>
On WildFly the user deployment classloader does not have any  visibility over JBoss internals; so for instance you can't <i class=" ">directly</i> use  JBossWS <i class=" ">implementation</i> classes unless you explicitly set a dependency to the corresponding module. As a consequence, users need to declare the module dependencies they want to be added to their deployment.    </p>
    <div class="confbox admonition admonition-info">
        
    <p>
The JBoss Web Services APIs are always available by default whenever the webservices subsystem is available on AS7. So users just use them, no need for explicit dependencies declaration for those modules.    </p>
    </div>
    
    <div class="section-3"  id="80873276_JBossModulesandWSapplications-UsingMANIFEST.MF"  >
        <h3>Using MANIFEST.MF</h3>
    
    <p>
The convenient method for configuring deployment dependencies is adding them into the MANIFEST.MF file:    </p>
    <div class="confbox programlisting">
                <div class="content">
        <pre class="brush: java; gutter: false;">Manifest-Version: 1.0
Dependencies: org.jboss.ws.cxf.jbossws-cxf-client services export,foo.bar</pre>
        </div>
    </div>
    <p>
Here above <i class=" ">org.jboss.ws.cxf.jbossws-cxf-client</i> and <i class=" ">foo.bar</i> are the modules you want to set dependencies to; <i class=" ">services</i> tells the modules framework that you want to also import <i class=" ">META-INF/services/..</i> declarations from the dependency, while <i class=" ">export</i> exports the classes from the module to any other module that might be depending on the module implicitly created for your deployment.    </p>
    <div class="confbox admonition admonition-note">
        
    <p>
When using annotations on your endpoints / handlers such as the Apache CXF ones (@InInterceptor, @GZIP, ...) remember to add the proper module dependency in your manifest. Otherwise your annotations are not picked up and added to the annotation index by WildFly, resulting in them being completely and silently ignored.    </p>
    </div>
    
    <div class="section-4"  id="80873276_JBossModulesandWSapplications-UsingJAXB"  >
        <h4>Using JAXB</h4>
    
    <p>
In  order for successfully directly using JAXB contexts, etc. in your client or  endpoint running in-container, you need to properly setup a JAXB  implementation; that is performed setting the following dependency:    </p>
    <div class="confbox programlisting">
                <div class="content">
        <pre class="brush: java; gutter: false;">Dependencies: com.sun.xml.bind services export</pre>
        </div>
    </div>
    </div>
    
    <div class="section-4"  id="80873276_JBossModulesandWSapplications-UsingApacheCXF"  >
        <h4>Using Apache CXF</h4>
    
    <p>
In order for using Apache CXF APIs and implementation classes you need to add a dependency to the <i class=" ">org.apache.cxf</i>&nbsp;(API) module and / or <i class=" ">org.apache.cxf.impl</i> (implementation) module:    </p>
    <div class="confbox programlisting">
                <div class="content">
        <pre class="brush: java; gutter: false;">Dependencies: org.apache.cxf services</pre>
        </div>
    </div>
    <p>
However, please note that would not come with any JBossWS-CXF customizations nor additional extensions. For this reason, and generally speaking for simplifying user configuration, a client side aggregation module is available with all the WS dependencies users might need.    </p>
    </div>
    
    <div class="section-4"  id="80873276_JBossModulesandWSapplications-ClientsideWSaggregationmodule"  >
        <h4>Client side WS aggregation module</h4>
    
    <p>
Whenever you simply want to use all the JBoss Web Services  feature/functionalities, you can set a dependency to the convenient  client module.    </p>
    <div class="confbox programlisting">
                <div class="content">
        <pre class="brush: java; gutter: false;">Dependencies: org.jboss.ws.cxf.jbossws-cxf-client services</pre>
        </div>
    </div>
    <p>
Please note the <i class=" ">services</i> option above: that's strictly required in order for you to get the  JBossWS-CXF version of classes that are retrieved using the <i class=" ">Service API</i>,  the <tt class=" ">org.apache.cxf.Bus</tt> for instance.    </p>
    <div class="confbox admonition admonition-note">
        
    <p>
Be careful as issues because of misconfiguration here can be  quite hard to track down, because the Apache CXF behaviour would be  sensibly different.    </p>
    </div>
    
    <p>
    </p>
    <div class="confbox admonition admonition-info">
        
    <p>
The <i class=" ">services</i> option is almost always needed when declaring dependencies on <i class=" ">org.jboss.ws.cxf.jbossws-cxf-client</i> and <i class=" ">org.apache.cxf</i> modules. The reason for this is in it affecting the loading of classes through the <i class=" ">Service API</i>, which is what is used to wire most of the JBossWS components as well as all Apache CXF Bus extensions.    </p>
    </div>
    
    </div>
    
    <div class="section-4"  id="80873276_JBossModulesandWSapplications-Annotationscanning"  >
        <h4>Annotation scanning</h4>
    
    <p>
The application server uses an annotation index&nbsp;for detecting JAX-WS endpoints in user deployments. When declaring WS endpoints whose class belongs to a different module (for instance referring that in the <tt class=" ">web.xml</tt> descriptor), be sure to have an <tt class=" ">annotations</tt> type dependency in place. Without that, your endpoints would simply be ignored as they won't appear as annotated classes to the webservices subsystem.    </p>
    <div class="confbox programlisting">
                <div class="content">
        <pre class="brush: java; gutter: false;">Dependencies: org.foo annotations</pre>
        </div>
    </div>
    </div>
    
    </div>
    
    <div class="section-3"  id="80873276_JBossModulesandWSapplications-Usingjbossdeploymentdescriptor.xml"  >
        <h3>Using jboss-deployment-descriptor.xml</h3>
    
    <p>
In some circumstances, the convenient approach of setting module dependencies in MANIFEST.MF might not work. An example is the need for importing/exporting specific resources from a given module dependency. Users should hence add a jboss-deployment-structure.xml descriptor to their deployment and set module dependencies in it.    </p>
    </div>
    
    </div>
    
        </div>
              <ul class="docnav">
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  <li class="previous"><a accesskey="p" href="Published_WSDL_customization.html"><strong>Prev</strong>Published WSDL customization</a></li>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              <li class="up"><a accesskey="u" href="#"><strong>Top of page</strong></a></li>
          <li class="home"><a accesskey="h" href="Documentation.html"><strong>Front page</strong></a></li>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <li class="next"><a accesskey="n" href="High_Availability_Guide.html"><strong>Next</strong>High Availability Guide</a></li>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </ul>
          </div>
    <script type="text/javascript">
      SyntaxHighlighter.all()
    </script>
</body>
</html>

<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title>Global Bindings Configuration - WildFly 9</title>

    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=EmulateIE8" />
    <meta content="Scroll Wiki Publisher" name="generator"/>

    <link type="text/css" rel="stylesheet" href="css/blueprint/liquid.css" media="screen, projection"/>
    <link type="text/css" rel="stylesheet" href="css/blueprint/print.css" media="print"/>
    <!--[if lt IE 8]><link rel="stylesheet" href="css/blueprint/ie.css" type="text/css" media="screen, projection"/><![endif]-->

    <link type="text/css" rel="stylesheet" href="css/content-style.css" media="screen, projection, print"/>
    <link type="text/css" rel="stylesheet" href="css/screen.css" media="screen, projection"/>
    <link type="text/css" rel="stylesheet" href="css/print.css" media="print"/>
    
    <link type="text/css" rel="stylesheet" href="css/jbossorg.css"/>
    <link type="text/css" rel="stylesheet" href="css/docnav.css"/>    
    
    <link type="text/css" rel="stylesheet" href="sh/shCore.css"/>
    <link type="text/css" rel="stylesheet" href="sh/shCoreDefault.css"/>
    <script type="text/javascript" src="sh/shCore.js"></script>
    <script type="text/javascript" src="sh/shBrushAppleScript.js"></script>
    <script type="text/javascript" src="sh/shBrushAS3.js"></script>
    <script type="text/javascript" src="sh/shBrushBash.js"></script>
    <script type="text/javascript" src="sh/shBrushCpp.js"></script>
    <script type="text/javascript" src="sh/shBrushCSharp.js"></script>
    <script type="text/javascript" src="sh/shBrushCss.js"></script>
    <script type="text/javascript" src="sh/shBrushDiff.js"></script>
    <script type="text/javascript" src="sh/shBrushErlang.js"></script>
    <script type="text/javascript" src="sh/shBrushGroovy.js"></script>
    <script type="text/javascript" src="sh/shBrushJava.js"></script>
    <script type="text/javascript" src="sh/shBrushJavaFX.js"></script>
    <script type="text/javascript" src="sh/shBrushJScript.js"></script>
    <script type="text/javascript" src="sh/shBrushPerl.js"></script>
    <script type="text/javascript" src="sh/shBrushPhp.js"></script>
    <script type="text/javascript" src="sh/shBrushPlain.js"></script>
    <script type="text/javascript" src="sh/shBrushPython.js"></script>
    <script type="text/javascript" src="sh/shBrushRuby.js"></script>
    <script type="text/javascript" src="sh/shBrushScala.js"></script>
    <script type="text/javascript" src="sh/shBrushSql.js"></script>
    <script type="text/javascript" src="sh/shBrushVb.js"></script>
    <script type="text/javascript" src="sh/shBrushXml.js"></script>
    
</head>
<body>
    <div class="container" style="min-width: 760px;">
        <div class="block header">
          <p id="title">
            <a class="site_href" href="http://www.jboss.org"><strong>JBoss.org</strong></a>
            <a class="doc_href" href="http://docs.jboss.org"><strong>Community Documentation</strong></a>
          </p>
                  <ul class="docnav">
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  <li class="previous"><a accesskey="p" href="Naming_Subsystem_Configuration.html"><strong>Prev</strong></a></li>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      <li class="next"><a accesskey="n" href="Remote_JNDI_Configuration.html"><strong>Next</strong></a></li>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </ul>
                    <div>
            <h1>Global Bindings Configuration</h1>
          </div>          
          </div>

        <div class="block content">
    <p>
The Naming subsystem configuration allows binding entries into the following global JNDI namespaces:    </p>
<ul class=" "><li class=" ">    <p>
<tt class=" ">java:global</tt>    </p>
</li><li class=" ">    <p>
<tt class=" ">java:jboss</tt>    </p>
</li><li class=" ">    <p>
<tt class=" ">java:</tt>    </p>
</li></ul>    <div class="confbox admonition admonition-note">
        
    <p>
If WildFly is to be used as a Java EE application server, then it's recommended to opt for <tt class=" ">java:global</tt>, since it is a standard (i.e. portable) namespace.    </p>
    </div>
    
    <p>
Four different types of bindings are supported:    </p>
<ul class=" "><li class=" ">    <p>
Simple    </p>
</li><li class=" ">    <p>
Object Factory    </p>
</li><li class=" ">    <p>
External Context    </p>
</li><li class=" ">    <p>
Lookup    </p>
</li></ul>    <p>
In the subsystem's XML configuration, global bindings are configured through the <tt class=" ">&lt;bindings /&gt;</tt> XML element, as an example:    </p>
    <div class="confbox programlisting">
                <div class="content">
        <pre class="brush: xml; gutter: false;">&lt;bindings&gt;
    &lt;simple name=&quot;java:global/a&quot; value=&quot;100&quot; type=&quot;int&quot; /&gt;
    &lt;object-factory name=&quot;java:global/foo/bar/factory&quot; module=&quot;org.foo.bar&quot; class=&quot;org.foo.bar.ObjectFactory&quot; /&gt;
    &lt;external-context name=&quot;java:global/federation/ldap/example&quot; class=&quot;javax.naming.directory.InitialDirContext&quot; cache=&quot;true&quot;&gt;
        &lt;environment&gt;
            &lt;property name=&quot;java.naming.factory.initial&quot; value=&quot;com.sun.jndi.ldap.LdapCtxFactory&quot; /&gt;
            &lt;property name=&quot;java.naming.provider.url&quot; value=&quot;ldap://ldap.example.com:389&quot; /&gt;
            &lt;property name=&quot;java.naming.security.authentication&quot; value=&quot;simple&quot; /&gt;
            &lt;property name=&quot;java.naming.security.principal&quot; value=&quot;uid=admin,ou=system&quot; /&gt;
            &lt;property name=&quot;java.naming.security.credentials&quot; value=&quot;secret&quot; /&gt;
        &lt;/environment&gt;
    &lt;/external-context&gt;
    &lt;lookup name=&quot;java:global/c&quot; lookup=&quot;java:global/b&quot; /&gt;
&lt;/bindings&gt;</pre>
        </div>
    </div>
    <div class="section-2"  id="80873166_GlobalBindingsConfiguration-SimpleBindings"  >
        <h2>Simple Bindings</h2>
    
    <p>
A simple binding is a primitive or java.net.URL entry, and it is defined through the <tt class=" ">simple</tt> XML element. An example of its XML configuration:    </p>
    <div class="confbox programlisting">
                <div class="content">
        <pre class="brush: xml; gutter: false;">&lt;simple name=&quot;java:global/a&quot; value=&quot;100&quot; type=&quot;int&quot; /&gt;</pre>
        </div>
    </div>
    <p>
The <tt class=" ">name</tt> attribute is mandatory and specifies the target JNDI name for the entry.    </p>
    <p>
The <tt class=" ">value</tt> attribute is mandatory and defines the entry's value.    </p>
    <p>
The optional <tt class=" ">type</tt> attribute, which defaults to <tt class=" ">java.lang.String</tt>, specifies the type of the entry's value. Besides java.lang.String, allowed types are all the primitive types and their corresponding object wrapper classes, such as int or java.lang.Integer, and java.net.URL.    </p>
    <p>
Management clients, such as the WildFly CLI, may be used to configure simple bindings. An example to <tt class=" ">add</tt> and <tt class=" ">remove</tt> the one in the XML example above:    </p>
    <div class="confbox programlisting">
                <div class="content">
        <pre class="brush: java; gutter: false;">/subsystem=naming/binding=java\:global\/a:add(binding-type=simple, type=int, value=100)
/subsystem=naming/binding=java\:global\/a:remove</pre>
        </div>
    </div>
    </div>
    
    <div class="section-2"  id="80873166_GlobalBindingsConfiguration-ObjectFactories"  >
        <h2>Object Factories</h2>
    
    <p>
The Naming subsystem configuration allows the binding of <tt class=" ">javax.naming.spi.ObjectFactory</tt> entries, through the <tt class=" ">object-factory</tt> XML element, for instance:    </p>
    <div class="confbox programlisting">
                <div class="content">
        <pre class="brush: xml; gutter: false;">&lt;object-factory name=&quot;java:global/foo/bar/factory&quot; module=&quot;org.foo.bar&quot; class=&quot;org.foo.bar.ObjectFactory&quot;&gt;
    &lt;environment&gt;
        &lt;property name=&quot;p1&quot; value=&quot;v1&quot; /&gt;
        &lt;property name=&quot;p2&quot; value=&quot;v2&quot; /&gt;
    &lt;/environment&gt;
&lt;/object-factory&gt;</pre>
        </div>
    </div>
    <p>
The <tt class=" ">name</tt> attribute is mandatory and specifies the target JNDI name for the entry.    </p>
    <p>
The <tt class=" ">class</tt> attribute is mandatory and defines the object factory's Java type.    </p>
    <p>
The <tt class=" ">module</tt> attribute is mandatory and specifies the JBoss Module ID where the object factory Java class may be loaded from.    </p>
    <p>
The optional <tt class=" ">environment</tt> child element may be used to provide a custom environment to the object factory.    </p>
    <p>
Management clients, such as the WildFly CLI, may be used to configure object factory bindings. An example to <tt class=" ">add</tt> and <tt class=" ">remove</tt> the one in the XML example above:    </p>
    <div class="confbox programlisting">
                <div class="content">
        <pre class="brush: java; gutter: false;">/subsystem=naming/binding=java\:global\/foo\/bar\/factory:add(binding-type=object-factory, module=org.foo.bar, class=org.foo.bar.ObjectFactory, environment=[p1=v1, p2=v2])
/subsystem=naming/binding=java\:global\/foo\/bar\/factory:remove</pre>
        </div>
    </div>
    </div>
    
    <div class="section-2"  id="80873166_GlobalBindingsConfiguration-ExternalContextFederation"  >
        <h2>External Context Federation</h2>
    
    <p>
Federation of external JNDI contexts, such as a LDAP context, are achieved by adding External Context bindings to the global bindings configuration, through the <tt class=" ">external-context</tt> XML element. An example of its XML configuration:    </p>
    <div class="confbox programlisting">
                <div class="content">
        <pre class="brush: xml; gutter: false;">&lt;external-context name=&quot;java:global/federation/ldap/example&quot; class=&quot;javax.naming.directory.InitialDirContext&quot; cache=&quot;true&quot;&gt;
    &lt;environment&gt;
        &lt;property name=&quot;java.naming.factory.initial&quot; value=&quot;com.sun.jndi.ldap.LdapCtxFactory&quot; /&gt;
        &lt;property name=&quot;java.naming.provider.url&quot; value=&quot;ldap://ldap.example.com:389&quot; /&gt;
        &lt;property name=&quot;java.naming.security.authentication&quot; value=&quot;simple&quot; /&gt;
        &lt;property name=&quot;java.naming.security.principal&quot; value=&quot;uid=admin,ou=system&quot; /&gt;
        &lt;property name=&quot;java.naming.security.credentials&quot; value=&quot;secret&quot; /&gt;
    &lt;/environment&gt;
&lt;/external-context&gt;</pre>
        </div>
    </div>
    <p>
The <tt class=" ">name</tt> attribute is mandatory and specifies the target JNDI name for the entry.    </p>
    <p>
The&nbsp;<tt class=" ">class</tt>&nbsp;attribute is mandatory and indicates the Java initial naming context type used to create the federated context. Note that such type must have a constructor with a single environment map argument.    </p>
    <p>
The optional&nbsp;<tt class=" ">module</tt>&nbsp;attribute specifies the JBoss Module ID where any classes required by the external JNDI context may be loaded from.    </p>
    <p>
The optional <tt class=" ">cache</tt> attribute, which value defaults to <tt class=" ">false</tt>, indicates if the external context instance should be cached.    </p>
    <p>
The optional <tt class=" ">environment</tt> child element may be used to provide the custom environment needed to lookup the external context.    </p>
    <p>
Management clients, such as the WildFly CLI, may be used to configure external context bindings. An example to <tt class=" ">add</tt> and <tt class=" ">remove</tt> the one in the XML example above:    </p>
    <div class="confbox programlisting">
                <div class="content">
        <pre class="brush: java; gutter: false;">/subsystem=naming/binding=java\:global\/federation\/ldap\/example:add(binding-type=external-context, cache=true, class=javax.naming.directory.InitialDirContext, environment=[java.naming.factory.initial=com.sun.jndi.ldap.LdapCtxFactory, java.naming.provider.url=ldap\:\/\/ldap.example.com\:389, java.naming.security.authentication=simple, java.naming.security.principal=uid\=admin\,ou\=system, java.naming.security.credentials= secret])

/subsystem=naming/binding=java\:global\/federation\/ldap\/example:remove</pre>
        </div>
    </div>
    <p>
Some JNDI providers may fail when their resources are looked up if they do not implement properly the lookup(Name) method. Their errors would look like:    </p>
    <div class="tablewrap">
        <table>
<thead class=" "></thead><tfoot class=" "></tfoot><tbody class=" ">    <tr>
            <td rowspan="1" colspan="1">
        <p>
11:31:49,047 ERROR org.jboss.resource.adapter.jms.inflow.JmsActivation (default-threads -1)&nbsp;&nbsp;javax.naming.InvalidNameException: Only support CompoundName names<br/>&nbsp; &nbsp; &nbsp;at com.tibco.tibjms.naming.TibjmsContext.lookup(TibjmsContext.java:504)<br/>&nbsp; &nbsp; &nbsp;at javax.naming.InitialContext.lookup(InitialContext.java:421)    </p>
            </td>
        </tr>
</tbody>        </table>
            </div>
    <p>
To work around their shortcomings, the&nbsp;<tt class=" ">org.jboss.as.naming.lookup.by.string</tt>&nbsp;property can be specified in the external-context's environment to use instead the lookup(String) method (with a performance degradation):    </p>
    <div class="confbox programlisting">
                <div class="content">
        <pre class="brush: java; gutter: false;">&lt;property name=&quot;org.jboss.as.naming.lookup.by.string&quot; value=&quot;true&quot;/&gt;</pre>
        </div>
    </div>
    <p>
    <span style="color: #000000;">
<strong class=" ">Binding Aliases</strong>    </span>
    </p>
    <p>
The Naming subsystem configuration allows the binding of existent entries into additional names, i.e. aliases. Binding aliases are specified through the <tt class=" ">lookup</tt> XML element. An example of its XML configuration:    </p>
    <div class="confbox programlisting">
                <div class="content">
        <pre class="brush: xml; gutter: false;">&lt;lookup name=&quot;java:global/c&quot; lookup=&quot;java:global/b&quot; /&gt;</pre>
        </div>
    </div>
    <p>
The <tt class=" ">name</tt> attribute is mandatory and specifies the target JNDI name for the entry.    </p>
    <p>
The <tt class=" ">lookup</tt> attribute is mandatory and indicates the source JNDI name.    </p>
    <p>
Management clients, such as the WildFly CLI, may be used to configure binding aliases. An example to <tt class=" ">add</tt> and <tt class=" ">remove</tt> the one in the XML example above:    </p>
    <div class="confbox programlisting">
                <div class="content">
        <pre class="brush: java; gutter: false;">/subsystem=naming/binding=java\:global\/c:add(binding-type=lookup, lookup=java\:global\/b)
/subsystem=naming/binding=java\:global\/c:remove</pre>
        </div>
    </div>
    </div>
    
        </div>
              <ul class="docnav">
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <li class="previous"><a accesskey="p" href="Naming_Subsystem_Configuration.html"><strong>Prev</strong>Naming Subsystem Configuration</a></li>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <li class="up"><a accesskey="u" href="#"><strong>Top of page</strong></a></li>
          <li class="home"><a accesskey="h" href="Documentation.html"><strong>Front page</strong></a></li>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              <li class="next"><a accesskey="n" href="Remote_JNDI_Configuration.html"><strong>Next</strong>Remote JNDI Configuration</a></li>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      </ul>
          </div>
    <script type="text/javascript">
      SyntaxHighlighter.all()
    </script>
</body>
</html>
